(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{53:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(20),r=c.n(a),i=(c(53),c(11)),l=c(4),o=c(6),j=c.n(o),u=c(16),d=c(3),b=c(17),O=c.n(b),p=(c(73),c(74),c(34)),h=c.n(p),x=c(35),m=c.n(x),v=c(36),f=c.n(v),g=c(37),N=c.n(g),I=c(47),y=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};case"LOGIN_LOGOUT":return{user:null,isFetching:!1,error:!1};default:return Object(I.a)({},e)}},w=c(0),k={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},S=Object(s.createContext)(k),C=function(e){var t=e.children,c=Object(s.useReducer)(y,k),n=Object(d.a)(c,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){localStorage.setItem("user",JSON.stringify(a.user))}),[a.user]),Object(w.jsx)(S.Provider,{value:{user:a.user,isFetching:a.isFetching,error:a.error,dispatch:r},children:t})},R=function(e){return{type:"LOGIN_SUCCESS",payload:e}},U=function(){var e=Object(s.useState)(!1),t=Object(d.a)(e,2),c=t[0],n=t[1];console.log(window.pageYOffset),window.onscroll=function(){return n(window.pageYOffset>20),function(){return window.onscroll=null}};var a=Object(s.useContext)(S).dispatch;return console.log(c),Object(w.jsx)("div",{className:c?"navbar scrolled":"navbar",children:Object(w.jsxs)("div",{className:"container",children:[Object(w.jsxs)("div",{className:"left",children:[Object(w.jsx)(i.b,{to:"/",className:"link",children:Object(w.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/2560px-Netflix_2015_logo.svg.png",alt:""})}),Object(w.jsx)(i.b,{to:"/",className:"link",children:Object(w.jsx)("span",{className:"navbarmainLinks",children:"Home Page"})}),Object(w.jsx)(i.b,{to:"/series",className:"link",children:Object(w.jsx)("span",{className:"navbarmainLinks",children:"Series"})}),Object(w.jsx)(i.b,{to:"/movies",className:"link",children:Object(w.jsx)("span",{className:"navbarmainLinks",children:"Movies"})}),Object(w.jsx)(i.b,{to:"/new",className:"link",children:Object(w.jsx)("span",{className:"navbarmainLinks",children:"New and Popular"})}),Object(w.jsx)(i.b,{to:"/favourites",className:"link",children:Object(w.jsx)("span",{children:"My list"})})]}),Object(w.jsxs)("div",{className:"right",children:[Object(w.jsx)(h.a,{className:"icon"}),Object(w.jsx)(m.a,{className:"icon"}),Object(w.jsx)(f.a,{className:"icon"}),Object(w.jsx)("img",{src:"https://images.pexels.com/photos/6899260/pexels-photo-6899260.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",alt:""}),Object(w.jsxs)("div",{className:"profile",children:[Object(w.jsx)(N.a,{className:"icon"}),Object(w.jsxs)("div",{className:"options",children:[Object(w.jsx)("div",{children:"settings"}),Object(w.jsx)("span",{onClick:function(){return a({type:"LOGOUT"})},children:"Logout"})]})]})]})]})})},L=(c(82),c(38)),G=c.n(L),M=c(39),_=c.n(M),T=function(e){var t=e.type,c=e.setGenre,n=Object(s.useState)({}),a=Object(d.a)(n,2),r=a[0],i=a[1],l=O.a.create({baseURL:"http://45.80.153.87/api/"});return Object(s.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.get("movies/random",{headers:{token:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxMTdiZjBkOGI0YmQ4NDdkODZjNzU4YyIsImlzQWRtaW4iOnRydWUsImlhdCI6MTYyOTU0MzY0MSwiZXhwIjoxNjI5ODAyODQxfQ._cKVjtMiKZdk7BewnEGEEyT-U7uHVGp4gmvarAd7kLI"}});case 3:t=e.sent,i(t.data[0]),console.log(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(w.jsxs)("div",{className:"featured",children:[t&&Object(w.jsxs)("div",{className:"category",children:[Object(w.jsx)("span",{children:"movie"===t?"Movies":"Series"}),Object(w.jsxs)("select",{name:"genre",id:"genre",onChange:function(e){return c(e.target.value)},children:[Object(w.jsx)("option",{children:"Genre"}),Object(w.jsx)("option",{value:"adventure",children:"Adventure"}),Object(w.jsx)("option",{value:"comedy",children:"Comedy"}),Object(w.jsx)("option",{value:"crime",children:"Crime"}),Object(w.jsx)("option",{value:"fantasy",children:"Fantasy"}),Object(w.jsx)("option",{value:"historical",children:"Historical"}),Object(w.jsx)("option",{value:"horror",children:"Horror"}),Object(w.jsx)("option",{value:"romance",children:"Romance"}),Object(w.jsx)("option",{value:"sci-fi",children:"Sci-fi"}),Object(w.jsx)("option",{value:"thriller",children:"Thriller"}),Object(w.jsx)("option",{value:"western",children:"Western"}),Object(w.jsx)("option",{value:"animation",children:"Animation"}),Object(w.jsx)("option",{value:"drama",children:"Drama"}),Object(w.jsx)("option",{value:"documentary",children:"Documentary"}),Object(w.jsx)("option",{value:"romance",children:"romance"})]})]}),Object(w.jsx)("img",{className:"imgHome",src:"https://images.pexels.com/photos/6899260/pexels-photo-6899260.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",alt:""}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("img",{src:r.img,alt:""}),Object(w.jsx)("span",{className:"des",children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis, ipsam quo, necessitatibus quos ipsum magni velit iure voluptates officia nisi voluptatum totam sapiente aspernatur, quam adipisci et placeat officiis. Pariatur nulla atque eum!"}),Object(w.jsxs)("div",{className:"buttons",children:[Object(w.jsxs)("button",{className:"playIcon",children:[Object(w.jsx)(G.a,{}),Object(w.jsx)("span",{children:"Play"})]}),Object(w.jsxs)("button",{className:"infoIcon",children:[Object(w.jsx)(_.a,{}),Object(w.jsx)("span",{children:"Info"})]})]})]})]})},E=(c(83),c(45)),Y=c.n(E),B=c(44),D=c.n(B),J=(c(84),c(40)),F=c.n(J),Z=c(41),A=c.n(Z),Q=c(42),W=c.n(Q),z=c(43),V=c.n(z),X=function(e){var t=e.item,c=e.index,n=Object(s.useState)(!1),a=Object(d.a)(n,2),r=a[0],l=a[1],o=Object(s.useState)({}),b=Object(d.a)(o,2),p=b[0],h=b[1],x=O.a.create({baseURL:"http://45.80.153.87/api/"});return Object(s.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("movies/find/"+t,{headers:{token:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxMTdiZjBkOGI0YmQ4NDdkODZjNzU4YyIsImlzQWRtaW4iOnRydWUsImlhdCI6MTYyOTU0MzY0MSwiZXhwIjoxNjI5ODAyODQxfQ._cKVjtMiKZdk7BewnEGEEyT-U7uHVGp4gmvarAd7kLI"}});case 3:c=e.sent,h(c.data),console.log(p),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(i.b,{to:{pathname:"/watch",movie:p},children:Object(w.jsxs)("div",{className:"listItem",onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},style:{left:r&&225*c-250+2.5*c},children:[Object(w.jsx)("img",{src:p.img,alt:""}),r&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"itemInfo",children:[Object(w.jsxs)("div",{className:"icons",children:[Object(w.jsx)(F.a,{className:"icon"}),Object(w.jsx)(A.a,{className:"icon"}),Object(w.jsx)(W.a,{className:"icon"}),Object(w.jsx)(V.a,{className:"icon"})]}),Object(w.jsxs)("div",{className:"itemInfoTop",children:[Object(w.jsx)("span",{children:p.duration}),Object(w.jsx)("div",{className:"limit",children:t.limit}),Object(w.jsx)("span",{children:p.year})]}),Object(w.jsxs)("div",{className:"desc",children:[p.desc," ."]})]}),Object(w.jsx)("div",{className:"genre",children:p.genre})]})]})})})},H=function(e){var t=e.list,c=Object(s.useRef)(),n=Object(s.useState)(0),a=Object(d.a)(n,2),r=a[0],i=a[1],l=Object(s.useState)(0),o=Object(d.a)(l,2),j=o[0],u=o[1],b=Object(s.useState)(window.innerWidth/230),O=Object(d.a)(b,2),p=O[0];O[1];console.log(t);var h=function(e){u(!0);var t=c.current.getBoundingClientRect().x-50;"left"===e&&r>0&&(i(r-1),c.current.style.transform="translateX(".concat(230+t,"px)")),"right"===e&&r<10-p&&(i(r+1),c.current.style.transform="translateX(".concat(-230+t,"px)"))};return Object(w.jsxs)("div",{className:"Lcontainer",children:[Object(w.jsx)("div",{className:"containerTitle",children:t.type}),Object(w.jsxs)("div",{className:"wrapper",children:[Object(w.jsx)(D.a,{className:"sliderIcon left",onClick:function(){return h("left")},style:{display:j?"block":"none"}}),Object(w.jsx)("div",{className:"listContainer",ref:c,children:t.content.map((function(e,t){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(X,{item:e,index:t},t)})}))}),Object(w.jsx)(Y.a,{className:"sliderIcon right",onClick:function(){return h("right")}})]})]})},P=function(e){var t=e.type,c=Object(s.useState)([]),n=Object(d.a)(c,2),a=n[0],r=n[1],i=Object(s.useState)(null),l=Object(d.a)(i,2),o=l[0],b=l[1],p=O.a.create({baseURL:"http://45.80.153.87/api/"});return Object(s.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("list".concat(t?"?type="+t:"").concat(o?"&genre="+o:""),{headers:{token:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxMTdiZjBkOGI0YmQ4NDdkODZjNzU4YyIsImlzQWRtaW4iOnRydWUsImlhdCI6MTYyOTU0MzY0MSwiZXhwIjoxNjI5ODAyODQxfQ._cKVjtMiKZdk7BewnEGEEyT-U7uHVGp4gmvarAd7kLI"}});case 3:c=e.sent,r(c.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t,o]),console.log(a),Object(w.jsxs)("div",{className:"home",children:[Object(w.jsx)(U,{}),Object(w.jsx)(T,{type:t,setGenre:b}),a.map((function(e,t){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(H,{list:e},t)})}))]})},K=(c(85),c(46)),q=c.n(K),$=function(){var e=Object(l.h)().movie;return console.log("to jest to"),console.log(e.trailer),Object(w.jsxs)("div",{className:"watch",children:[Object(w.jsxs)("div",{className:"back",children:[Object(w.jsx)(q.a,{}),Object(w.jsx)("span",{children:"Back"})]}),Object(w.jsx)("video",{className:"video",autoPlay:!0,progress:!0,controls:!0,src:e.trailer})]})};c(86);function ee(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(d.a)(a,2),i=r[0],o=r[1],b=Object(s.useState)(""),p=Object(d.a)(b,2),h=p[0],x=p[1],m=Object(l.g)(),v=Object(s.useRef)(),f=Object(s.useRef)(),g=Object(s.useRef)(),N=O.a.create({baseURL:"http://45.80.153.87/api/"}),I=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o(f.current.value),x(g.current.value),e.prev=3,e.next=6,N.post("auth/register",{email:c,username:h,password:i});case 6:m.push("/login"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"register",children:Object(w.jsxs)("div",{className:"top",children:[Object(w.jsxs)("div",{className:"wrapper",children:[Object(w.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/2560px-Netflix_2015_logo.svg.png",alt:""}),Object(w.jsx)("button",{className:"loginButton",children:"Sign In"})]}),Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)("h1",{children:"Unlimited films"}),Object(w.jsx)("h2",{children:"Watch anywhere"}),Object(w.jsx)("span",{children:"More info on our site"})]}),c?Object(w.jsxs)("div",{className:"input",children:[Object(w.jsx)("input",{type:"username",placeholder:"username",ref:g}),Object(w.jsx)("input",{type:"password",placeholder:"password",ref:f}),Object(w.jsx)("button",{className:"registerButton",onClick:I,children:"Go for it!"})]}):Object(w.jsxs)("div",{className:"input",children:[Object(w.jsx)("input",{type:"email",placeholder:"email address",ref:v}),Object(w.jsx)("button",{className:"registerButton",onClick:function(){n(v.current.value)},children:"Register now"})]})]})})}c(87);var te=O.a.create({baseURL:"http://45.80.153.87/api/"}),ce=function(){var e=Object(u.a)(j.a.mark((function e(t,c){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"LOGIN_START"}),e.prev=1,e.next=4,te.post("auth/login",t);case 4:s=e.sent,c(R(s.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:"LOGIN_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c){return e.apply(this,arguments)}}();function se(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(d.a)(a,2),i=r[0],l=r[1],o=Object(s.useContext)(S).dispatch,j=Object(s.useRef)();Object(s.useRef)();return Object(w.jsx)("div",{className:"login",children:Object(w.jsxs)("div",{className:"top",children:[Object(w.jsx)("div",{className:"wrapper",children:Object(w.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/2560px-Netflix_2015_logo.svg.png",alt:""})}),Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)("h1",{children:"Unlimited films"}),Object(w.jsx)("h2",{children:"Watch anywhere"}),Object(w.jsx)("span",{children:"More info on our site"})]}),Object(w.jsx)("div",{className:"input",children:Object(w.jsx)("input",{type:"email",placeholder:"email address",ref:j})}),Object(w.jsxs)("div",{className:"input",children:[Object(w.jsx)("h1",{children:"Sign In"}),Object(w.jsx)("input",{type:"email",placeholder:"Email or phone number",onChange:function(e){return n(e.target.value)}}),Object(w.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){return l(e.target.value)}}),Object(w.jsx)("button",{className:"loginButton",onClick:function(e){e.preventDefault(),ce({email:c,password:i},o)},children:"Sign In"}),Object(w.jsxs)("span",{className:"new",children:["New to Netflix? ",Object(w.jsx)("strong",{children:"Sign up here"})," "]})]})]})})}var ne=function(){var e=Object(s.useContext)(S).user;return console.log(e),Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(i.a,{children:Object(w.jsxs)(l.d,{children:[Object(w.jsx)(l.b,{exact:!0,path:"/",children:e?Object(w.jsx)(P,{}):Object(w.jsx)(l.a,{to:"/register"})}),Object(w.jsx)(l.b,{path:"/login",children:e?Object(w.jsx)(l.a,{to:"/"}):Object(w.jsx)(se,{})}),Object(w.jsx)(l.b,{path:"/register",children:Object(w.jsx)(ee,{})}),e&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.b,{path:"/movies",children:Object(w.jsx)(P,{type:"movie"})}),Object(w.jsx)(l.b,{path:"/series",children:Object(w.jsx)(P,{type:"series"})}),Object(w.jsx)(l.b,{path:"/watch",children:Object(w.jsx)($,{})}),Object(w.jsx)(l.b,{path:"/login",children:Object(w.jsx)(se,{})})]})]})})})};r.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(C,{children:Object(w.jsx)(ne,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.53f9ffd9.chunk.js.map